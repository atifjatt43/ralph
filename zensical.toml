# Zensical documentation configuration for Ralph
# https://zensical.org

[project]
site_name = "Ralph"
site_description = "Active Record-style ORM for Crystal with type safety and developer experience"
site_author = "watzon"
site_url = "https://ralph-docs.wtz.nz/"
repo_url = "https://github.com/watzon/ralph"
edit_uri = "edit/main/docs/"
copyright = "Copyright &copy; 2026 Chris Watson"

extra_css = ["assets/extra.css"]

nav = [
    {"Home" = "index.md"},
    {"Guide" = [
        "guides/getting-started.md",
        {"Configuration" = "guides/configuration.md"},
    ]},
    {"Models" = [
        "models/introduction.md",
        {"CRUD Operations" = "models/crud-operations.md"},
        {"Advanced Types" = [
            "models/types.md",
            {"Enums" = "models/types/enums.md"},
            {"JSON/JSONB" = "models/types/json.md"},
            {"UUID" = "models/types/uuid.md"},
            {"Arrays" = "models/types/arrays.md"},
            {"Custom Types" = "models/types/custom.md"},
        ]},
        {"Associations" = "models/associations.md"},
        {"Validations" = "models/validations.md"},
        {"Callbacks" = "models/callbacks.md"},
        {"Scopes" = "models/scopes.md"},
        {"Soft Deletes" = "models/soft-deletes.md"},
    ]},
    {"Query Builder" = [
        "query-builder/introduction.md",
        {"Advanced" = [
            "query-builder/advanced.md",
            {"CTEs & Window Functions" = "query-builder/ctes-and-window-functions.md"},
            {"Set Operations" = "query-builder/set-operations.md"},
            {"JSON & Array Queries" = "query-builder/json-and-array-queries.md"},
            {"Caching & Performance" = "query-builder/caching.md"},
            {"PostgreSQL Features" = "query-builder/postgres-features.md"},
        ]},
    ]},
    {"Migrations" = [
        "migrations/introduction.md",
        {"Schema Builder" = "migrations/schema-builder.md"},
        {"PostgreSQL Indexes" = "migrations/postgres-indexes.md"},
        {"Programmatic API" = "migrations/programmatic-api.md"},
        {"Error Handling" = "migrations/error-handling.md"},
    ]},
    {"CLI" = [
        "cli/commands.md",
        {"Customization" = "cli/customization.md"},
    ]},
    {"API Reference" = [
        "api/index.md",
        {"Overview" = "api/index.md"},
        {"Core" = [
            {"Ralph::Model" = "api/ralph-model.md"},
            {"Ralph::Associations" = "api/ralph-associations.md"},
            {"Ralph::Transactions" = "api/ralph-transactions.md"},
        ]},
        {"Database" = [
            {"Ralph::Database" = "api/ralph-database.md"},
            {"SqliteBackend" = "api/ralph-database-sqlitebackend.md"},
            {"PostgresBackend" = "api/ralph-database-postgresbackend.md"},
        ]},
        {"Types" = [
            {"AssociationMetadata" = "api/ralph-associationmetadata.md"},
            {"ColumnMetadata" = "api/ralph-columnmetadata.md"},
            {"DependentBehavior" = "api/ralph-dependentbehavior.md"},
            {"Settings" = "api/ralph-settings.md"},
        ]},
    ]},
    {"Roadmap" = "roadmap.md"},
]

[project.theme]
language = "en"

features = [
    "content.code.annotate",
    "content.code.copy",
    "content.code.select",
    "navigation.instant",
    "navigation.instant.prefetch",
    "navigation.tracking",
    "navigation.tabs",
    "navigation.sections",
    "navigation.path",
    "navigation.top",
    "navigation.footer",
    "search.highlight",
    "toc.follow",
]

# Color scheme - dark mode first (default)
[[project.theme.palette]]
scheme = "slate"
primary = "deep purple"
accent = "amber"
toggle.icon = "lucide/sun"
toggle.name = "Switch to light mode"

[[project.theme.palette]]
scheme = "default"
primary = "deep purple"
accent = "amber"
toggle.icon = "lucide/moon"
toggle.name = "Switch to dark mode"

# Social links
[[project.extra.social]]
icon = "fontawesome/brands/github"
link = "https://github.com/watzon/ralph"

# Markdown extensions for syntax highlighting
[project.markdown_extensions.pymdownx.highlight]
anchor_linenums = true
line_spans = "__span"
pygments_lang_class = true

[project.markdown_extensions.pymdownx.tasklist]
custom_checkbox = true

[project.markdown_extensions.pymdownx.inlinehilite]

[project.markdown_extensions.pymdownx.superfences]

[project.markdown_extensions.pymdownx.snippets]

[project.markdown_extensions.toc]
permalink = "Â¶"
